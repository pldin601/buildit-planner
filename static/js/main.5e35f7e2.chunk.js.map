{"version":3,"sources":["components/ProductPicture.module.css","images lazy /^/.//.*/.png$/ groupOptions: {} namespace object","components/ProductPicture.tsx","components/quest/ProduceProduct.tsx","components/HumanTime.tsx","components/quest/ProductionPlan.tsx","domain/convertTime.ts","domain/factories/AbstractFactory.ts","domain/factories/CommonFactory.ts","domain/factories/CoconutFactory.ts","domain/factories/FrostyFjordsFactory.ts","domain/factories/OilPlantFactory.ts","domain/factories/WhiteMountainsFactory.ts","domain/Factory.ts","domain/commerce/AbstractCommerce.ts","domain/commerce/BuildingSupplies.ts","domain/commerce/CarParts.ts","domain/commerce/DonutShop.ts","domain/commerce/FarmersMarket.ts","domain/commerce/FashionStore.ts","domain/commerce/FastFoodRestaurant.ts","domain/commerce/FishMarket.ts","domain/commerce/FurnitureStore.ts","domain/commerce/GarderingSupplies.ts","domain/commerce/HardwareStore.ts","domain/commerce/HomeAppliances.ts","domain/commerce/SilkMarket.ts","domain/commerce/TropicalProductsStore.ts","domain/products.ts","components/ProductsSelector.tsx","components/Order.tsx","components/Orders.tsx","domain/ProductionPlanner.ts","domain/ParallelFactory.ts","domain/ProductionUnit.ts","domain/order.ts","use/orderReducer.ts","index.tsx"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","ProductPicture","product","React","image","setImage","toLowerCase","src","default","firstBigLetter","toUpper","first","title","className","style","productPicture","alt","placeholder","ProduceProduct","quantity","HumanTime","time","hours","Math","floor","minutes","seconds","ProductionPlan","items","totalTime","length","Table","size","toArray","index","Row","Col","TIME_REGEXP","convertTime","exec","AbstractFactory","productsData","queueTime","startTime","this","canProduce","max","productionTime","commonProductsData","textiles","metal","seeds","animalFeed","sugarAndSpices","wood","minerals","electronicalComponents","glass","plastic","chemicals","products","CommonFactory","coconutProductsData","coconut","CoconutFactory","frostyFjordsProductsData","fish","FrostyFjordsFactory","oilPlantProductsData","crudeOil","OilPlantFactory","whiteMountainsProductsData","silk","WhiteMountainsFactory","latestPromise","promises","reduce","acc","item","AbstractCommerce","production","requires","promise","entries","prod","qty","produce","buildingSuppliesData","nails","cement","planks","glue","bricks","paint","BuildingSupplies","carPartsData","motorOil","carTire","engine","drill","CarParts","donutShopData","donuts","flourBag","greenSmoothie","vegetables","fruitAndBerries","breadRoll","cream","cherryCheeseCake","cheese","frozenYogurt","coffee","DonutShop","farmersMarketData","beef","corn","treeSaplings","FarmersMarket","fashionStoreData","cap","measuringTape","shoes","watch","businessSuits","backPack","FashionStore","fastFoodRestaurantData","icecreamSandwich","pizza","burgers","bbqGrill","cheeseFries","lemonadeBottle","FastFoodRestaurant","fishMarketData","fishConserves","fishSoup","cookingUtensils","sandwichWithLosos","FishMarket","furnitureStoreData","chairs","hammer","tables","homeTextiles","cupBoard","couch","FurnitureStore","gardeningSuppliesData","grass","shovel","firePit","lawnMower","gardenFurniture","gardenGnomes","GardeningSupplies","hardwareStoreData","ladder","HardwareStore","homeAppliancesData","refrigerator","lightingSystem","tv","HomeAppliances","silkMarketData","thread","fan","bathrobe","SilkMarket","tropicalProductsStoreData","coconutOil","faceCream","tropicalDrink","TropicalProductsStore","commonFactoryProducts","coconutFactoryProducts","frostyFjordsProducts","oilPlantProducts","whiteMountainsProducts","buildingSuppliesProducts","carPartsProducts","donutShopProducts","farmersMarketProducts","fashionStoreProducts","fastFoodRestaurantProducts","fishMarketProducts","furnitureStoreProducts","gardeningSuppliesProducts","hardwareStoreProducts","homeAppliancesProducts","silkMarketProducts","tropicalProductsStoreProducts","ProductsSelector","order","dispatch","productsToAdd","filter","it","handleProductClick","type","onClick","Order","handleDeleteOrderClick","handleRemoveProductClick","handleIncreaseQuantityClick","amount","handleDecreaseQuantityClick","Button","Orders","orders","handleCreateOrder","block","ProductionPlanner","push","groupedItems","forEach","isEmpty","lastGroupedItem","last","groupPlanItems","orderBy","ParallelFactory","ctor","factories","range","getMostUnused","getQueueTime","mostUnusedFactory","minBy","undefined","ProductionUnit","planner","solution","find","collectItem","convertOrdersToPlan","unit","getPlanItems","orderReducer","state","action","_","rootElement","document","getElementById","render","initialState","useReducer","useOrderReducer","JSON","parse","localStorage","getItem","setItem","stringify","planItems","apply","Container"],"mappings":"0GACAA,EAAOC,QAAU,CAAC,eAAiB,uCAAuC,YAAc,sC,uDCDxF,IAAIC,EAAM,CACT,mBAAoB,CACnB,GACA,GAED,iBAAkB,CACjB,GACA,GAED,iBAAkB,CACjB,GACA,GAED,aAAc,CACb,GACA,GAED,kBAAmB,CAClB,GACA,GAED,eAAgB,CACf,GACA,GAED,gBAAiB,CAChB,GACA,GAED,sBAAuB,CACtB,GACA,IAED,YAAa,CACZ,GACA,IAED,gBAAiB,CAChB,GACA,IAED,eAAgB,CACf,GACA,IAED,eAAgB,CACf,GACA,IAED,eAAgB,CACf,GACA,IAED,oBAAqB,CACpB,GACA,IAED,kBAAmB,CAClB,GACA,IAED,yBAA0B,CACzB,GACA,IAED,gBAAiB,CAChB,GACA,IAED,eAAgB,CACf,GACA,IAED,wBAAyB,CACxB,GACA,IAED,aAAc,CACb,GACA,IAED,cAAe,CACd,GACA,IAED,cAAe,CACd,GACA,IAED,iBAAkB,CACjB,GACA,IAED,iBAAkB,CACjB,GACA,IAED,eAAgB,CACf,GACA,IAED,cAAe,CACd,GACA,IAED,+BAAgC,CAC/B,GACA,IAED,eAAgB,CACf,GACA,IAED,gBAAiB,CAChB,GACA,IAED,aAAc,CACb,GACA,IAED,sBAAuB,CACtB,GACA,IAED,iBAAkB,CACjB,GACA,IAED,iBAAkB,CACjB,GACA,IAED,qBAAsB,CACrB,GACA,IAED,wBAAyB,CACxB,GACA,IAED,wBAAyB,CACxB,GACA,IAED,qBAAsB,CACrB,GACA,IAED,cAAe,CACd,GACA,IAED,aAAc,CACb,GACA,IAED,cAAe,CACd,GACA,IAED,sBAAuB,CACtB,GACA,IAED,eAAgB,CACf,GACA,IAED,qBAAsB,CACrB,GACA,IAED,yBAA0B,CACzB,GACA,IAED,eAAgB,CACf,GACA,IAED,kBAAmB,CAClB,GACA,IAED,uBAAwB,CACvB,GACA,IAED,uBAAwB,CACvB,GACA,IAED,sBAAuB,CACtB,GACA,IAED,cAAe,CACd,GACA,IAED,sBAAuB,CACtB,GACA,IAED,iBAAkB,CACj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","file":"static/js/main.5e35f7e2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"productPicture\":\"ProductPicture_productPicture__nIQu8\",\"placeholder\":\"ProductPicture_placeholder__2hKcf\"};","var map = {\n\t\"./animalfeed.png\": [\n\t\t36,\n\t\t3\n\t],\n\t\"./backpack.png\": [\n\t\t37,\n\t\t4\n\t],\n\t\"./bbqgrill.png\": [\n\t\t38,\n\t\t5\n\t],\n\t\"./beef.png\": [\n\t\t39,\n\t\t6\n\t],\n\t\"./breadroll.png\": [\n\t\t40,\n\t\t7\n\t],\n\t\"./bricks.png\": [\n\t\t41,\n\t\t8\n\t],\n\t\"./burgers.png\": [\n\t\t42,\n\t\t9\n\t],\n\t\"./businesssuits.png\": [\n\t\t43,\n\t\t10\n\t],\n\t\"./cap.png\": [\n\t\t44,\n\t\t11\n\t],\n\t\"./cartire.png\": [\n\t\t45,\n\t\t12\n\t],\n\t\"./cement.png\": [\n\t\t46,\n\t\t13\n\t],\n\t\"./chairs.png\": [\n\t\t47,\n\t\t14\n\t],\n\t\"./cheese.png\": [\n\t\t48,\n\t\t15\n\t],\n\t\"./cheesefries.png\": [\n\t\t49,\n\t\t16\n\t],\n\t\"./chemicals.png\": [\n\t\t50,\n\t\t17\n\t],\n\t\"./cherrycheesecake.png\": [\n\t\t51,\n\t\t18\n\t],\n\t\"./coconut.png\": [\n\t\t52,\n\t\t19\n\t],\n\t\"./coffee.png\": [\n\t\t53,\n\t\t20\n\t],\n\t\"./cookingutensils.png\": [\n\t\t54,\n\t\t21\n\t],\n\t\"./corn.png\": [\n\t\t55,\n\t\t22\n\t],\n\t\"./couch.png\": [\n\t\t56,\n\t\t23\n\t],\n\t\"./cream.png\": [\n\t\t57,\n\t\t24\n\t],\n\t\"./crudeoil.png\": [\n\t\t58,\n\t\t25\n\t],\n\t\"./cupboard.png\": [\n\t\t59,\n\t\t26\n\t],\n\t\"./donuts.png\": [\n\t\t60,\n\t\t27\n\t],\n\t\"./drill.png\": [\n\t\t61,\n\t\t28\n\t],\n\t\"./electronicalcomponents.png\": [\n\t\t62,\n\t\t29\n\t],\n\t\"./engine.png\": [\n\t\t63,\n\t\t30\n\t],\n\t\"./firepit.png\": [\n\t\t64,\n\t\t31\n\t],\n\t\"./fish.png\": [\n\t\t65,\n\t\t32\n\t],\n\t\"./fishconserves.png\": [\n\t\t66,\n\t\t33\n\t],\n\t\"./fishsoup.png\": [\n\t\t67,\n\t\t34\n\t],\n\t\"./flourbag.png\": [\n\t\t68,\n\t\t35\n\t],\n\t\"./frozenyogurt.png\": [\n\t\t69,\n\t\t36\n\t],\n\t\"./fruitandberries.png\": [\n\t\t70,\n\t\t37\n\t],\n\t\"./gardenfurniture.png\": [\n\t\t71,\n\t\t38\n\t],\n\t\"./gardengnomes.png\": [\n\t\t72,\n\t\t39\n\t],\n\t\"./glass.png\": [\n\t\t73,\n\t\t40\n\t],\n\t\"./glue.png\": [\n\t\t74,\n\t\t41\n\t],\n\t\"./grass.png\": [\n\t\t75,\n\t\t42\n\t],\n\t\"./greensmoothie.png\": [\n\t\t76,\n\t\t43\n\t],\n\t\"./hammer.png\": [\n\t\t77,\n\t\t44\n\t],\n\t\"./hometextiles.png\": [\n\t\t78,\n\t\t45\n\t],\n\t\"./icecreamsandwich.png\": [\n\t\t79,\n\t\t46\n\t],\n\t\"./ladder.png\": [\n\t\t80,\n\t\t47\n\t],\n\t\"./lawnmower.png\": [\n\t\t81,\n\t\t48\n\t],\n\t\"./lemonadebottle.png\": [\n\t\t82,\n\t\t49\n\t],\n\t\"./lightingsystem.png\": [\n\t\t83,\n\t\t50\n\t],\n\t\"./measuringtape.png\": [\n\t\t84,\n\t\t51\n\t],\n\t\"./metal.png\": [\n\t\t85,\n\t\t52\n\t],\n\t\"./microwaveoven.png\": [\n\t\t86,\n\t\t53\n\t],\n\t\"./minerals.png\": [\n\t\t87,\n\t\t54\n\t],\n\t\"./motoroil.png\": [\n\t\t88,\n\t\t55\n\t],\n\t\"./nails.png\": [\n\t\t89,\n\t\t56\n\t],\n\t\"./paint.png\": [\n\t\t90,\n\t\t57\n\t],\n\t\"./pizza.png\": [\n\t\t91,\n\t\t58\n\t],\n\t\"./planks.png\": [\n\t\t92,\n\t\t59\n\t],\n\t\"./plastic.png\": [\n\t\t93,\n\t\t60\n\t],\n\t\"./popcorn.png\": [\n\t\t94,\n\t\t61\n\t],\n\t\"./refrigerator.png\": [\n\t\t95,\n\t\t62\n\t],\n\t\"./sandwichwithlosos.png\": [\n\t\t96,\n\t\t63\n\t],\n\t\"./seeds.png\": [\n\t\t97,\n\t\t64\n\t],\n\t\"./shoes.png\": [\n\t\t98,\n\t\t65\n\t],\n\t\"./shovel.png\": [\n\t\t99,\n\t\t66\n\t],\n\t\"./silk.png\": [\n\t\t100,\n\t\t67\n\t],\n\t\"./sugarandspices.png\": [\n\t\t101,\n\t\t68\n\t],\n\t\"./tables.png\": [\n\t\t102,\n\t\t69\n\t],\n\t\"./textiles.png\": [\n\t\t103,\n\t\t70\n\t],\n\t\"./treesaplings.png\": [\n\t\t104,\n\t\t71\n\t],\n\t\"./tv.png\": [\n\t\t105,\n\t\t72\n\t],\n\t\"./vegetables.png\": [\n\t\t106,\n\t\t73\n\t],\n\t\"./watch.png\": [\n\t\t107,\n\t\t74\n\t],\n\t\"./wood.png\": [\n\t\t108,\n\t\t75\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 30;\nmodule.exports = webpackAsyncContext;","import * as React from \"react\";\nimport { toUpper, first } from \"lodash\";\nimport style from \"./ProductPicture.module.css\";\n\nexport default function ProductPicture({ product }) {\n  const [image, setImage] = React.useState(null);\n\n  React.useEffect(() => {\n    import(`../images/${product.toLowerCase()}.png`).then(\n      ({ default: src }) => setImage(src),\n      () => {}\n    );\n  }, [product]);\n\n  const firstBigLetter = toUpper(first(product));\n\n  return (\n    <span title={product}>\n      {image !== null ? (\n        <img className={style.productPicture} src={image} alt={product} />\n      ) : (\n        <div className={style.placeholder}>{firstBigLetter}</div>\n      )}\n    </span>\n  );\n}\n","import * as React from \"react\";\nimport ProductPicture from \"../ProductPicture\";\n\nexport default function ProduceProduct({ product, quantity }) {\n  return (\n    <div>\n      Produce {quantity} of <ProductPicture product={product} />.\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nexport default function HumanTime({ time }) {\n  const hours = Math.floor(time / 3600);\n  const minutes = Math.floor(time / 60) % 60;\n  const seconds = time % 60;\n  return (\n    <>\n      {hours > 0 ? <>{hours}h</> : null}\n      {minutes > 0 ? <>{minutes}m</> : null}\n      {seconds > 0 ? <>{seconds}s</> : null}\n    </>\n  );\n}\n","import * as React from \"react\";\nimport {Col, Row, Table} from \"reactstrap\";\nimport ProduceProduct from \"./ProduceProduct\";\nimport HumanTime from \"../HumanTime\";\nimport {GroupedPlanItem} from \"../../domain/ProductionPlanner\";\n\nexport default function ProductionPlan({ items }: { items: GroupedPlanItem[] }) {\n  const { time: totalTime } = items[items.length - 1];\n\n  return (\n    <>\n      <Table size={\"sm\"}>\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Task</th>\n            <th>Time</th>\n            <th>Store</th>\n          </tr>\n        </thead>\n        <tbody>\n          {React.Children.toArray(\n            items.map(({ product, quantity, time }, index) => {\n              return (\n                <>\n                  <tr>\n                    <td>{index + 1}</td>\n                    <td>\n                      <ProduceProduct product={product} quantity={quantity} />\n                    </td>\n                    <td>\n                      <HumanTime time={time} />\n                    </td>\n                    <td>-</td>\n                  </tr>\n                </>\n              );\n            })\n          )}\n        </tbody>\n      </Table>\n      <Row>\n        <Col>\n          Approx. Time: <HumanTime time={totalTime} />\n        </Col>\n      </Row>\n    </>\n  );\n}\n","const TIME_REGEXP = /(?:(\\d+)h){0,1}(?:(\\d+)m){0,1}(?:(\\d+)s){0,1}/;\n\nexport default function convertTime(time: string): number {\n  const [, hours, minutes, seconds] = TIME_REGEXP.exec(time) as any;\n  return (+seconds || 0) + (+minutes || 0) * 60 + (+hours || 0) * 3600;\n}\n","import convertTime from \"../convertTime\";\r\nimport {Factory, ProductionPromise} from \"../Factory\";\r\n\r\nexport type ProductsData<Product extends string> = {\r\n  [K in Product]: { time: string };\r\n};\r\n\r\nexport abstract class AbstractFactory<Product extends string>\r\n  implements Factory<Product> {\r\n  protected abstract productsData: ProductsData<Product>;\r\n\r\n  private queueTime: number = 0;\r\n\r\n  public produce(product: Product, startTime: number): ProductionPromise {\r\n    if (!this.canProduce(product)) {\r\n      throw new Error(`This factory doesn't produce ${product}`);\r\n    }\r\n\r\n    const max = Math.max(startTime, this.queueTime);\r\n    const { time: productionTime } = this.productsData[product];\r\n\r\n    this.queueTime = max + convertTime(productionTime);\r\n\r\n    return { time: this.queueTime };\r\n  }\r\n\r\n  public canProduce(product: string): product is Product {\r\n    return product in this.productsData;\r\n  }\r\n\r\n  public getQueueTime(): number {\r\n    return this.queueTime;\r\n  }\r\n}\r\n","import {AbstractFactory} from \"./AbstractFactory\";\r\n\r\nconst commonProductsData = {\r\n  textiles: { time: \"3h\" },\r\n  metal: { time: \"1m\" },\r\n  seeds: { time: \"20m\" },\r\n  animalFeed: { time: \"6h\" },\r\n  sugarAndSpices: { time: \"4h\" },\r\n  wood: { time: \"3m\" },\r\n  minerals: { time: \"30m\" },\r\n  electronicalComponents: { time: \"7h\" },\r\n  glass: { time: \"5h\" },\r\n  plastic: { time: \"9m\" },\r\n  chemicals: { time: \"2h\" }\r\n};\r\n\r\nexport const products = Object.keys(commonProductsData);\r\n\r\nexport type CommonFactoryProducts = keyof typeof commonProductsData;\r\n\r\nexport class CommonFactory extends AbstractFactory<CommonFactoryProducts> {\r\n  protected productsData = commonProductsData;\r\n}\r\n","import {AbstractFactory} from \"./AbstractFactory\";\r\n\r\nconst coconutProductsData = {\r\n  coconut: { time: \"6m\" }\r\n};\r\n\r\nexport const products = Object.keys(coconutProductsData);\r\n\r\nexport type CoconutFactoryProducts = keyof typeof coconutProductsData;\r\n\r\nexport class CoconutFactory extends AbstractFactory<CoconutFactoryProducts> {\r\n  protected productsData = coconutProductsData;\r\n}\r\n","import {AbstractFactory} from \"./AbstractFactory\";\r\n\r\nconst frostyFjordsProductsData = {\r\n  fish: { time: \"6m\" }\r\n};\r\n\r\nexport const products = Object.keys(frostyFjordsProductsData);\r\n\r\nexport type FrostyFjordsProducts = keyof typeof frostyFjordsProductsData;\r\n\r\nexport class FrostyFjordsFactory extends AbstractFactory<FrostyFjordsProducts> {\r\n  protected productsData = frostyFjordsProductsData;\r\n}\r\n","import {AbstractFactory} from \"./AbstractFactory\";\r\n\r\nconst oilPlantProductsData = {\r\n  crudeOil: { time: \"6m\" }\r\n};\r\n\r\nexport const products = Object.keys(oilPlantProductsData);\r\n\r\nexport type OilPlantFactoryProducts = keyof typeof oilPlantProductsData;\r\n\r\nexport class OilPlantFactory extends AbstractFactory<OilPlantFactoryProducts> {\r\n  protected productsData = oilPlantProductsData;\r\n}\r\n","import {AbstractFactory} from \"./AbstractFactory\";\r\n\r\nconst whiteMountainsProductsData = {\r\n  silk: { time: \"6m\" }\r\n};\r\n\r\nexport const products = Object.keys(whiteMountainsProductsData);\r\n\r\nexport type WhiteMountainsProducts = keyof typeof whiteMountainsProductsData;\r\n\r\nexport class WhiteMountainsFactory extends AbstractFactory<\r\n  WhiteMountainsProducts\r\n> {\r\n  protected productsData = whiteMountainsProductsData;\r\n}\r\n","export interface ProductionPromise {\r\n  time: number;\r\n}\r\n\r\nexport interface Factory<Product extends string> {\r\n  produce(product: Product, startTime: number): ProductionPromise;\r\n  canProduce(product: string): product is Product;\r\n  getQueueTime(): number;\r\n}\r\n\r\nexport function latestPromise(promises: ProductionPromise[]) {\r\n  return promises.reduce(\r\n    (acc, item) => {\r\n      acc.time = Math.max(acc.time, item.time);\r\n      return acc;\r\n    },\r\n    { time: 0 }\r\n  );\r\n}\r\n","import {Commerce} from \"../Commerce\";\r\nimport {AnyProduct, Production} from \"../Production\";\r\nimport {latestPromise, ProductionPromise} from \"../Factory\";\r\nimport convertTime from \"../convertTime\";\r\n\r\nexport type Requires = Partial<\r\n  {\r\n    [K in AnyProduct]: number;\r\n  }\r\n>;\r\n\r\nexport type CommerceProductsData<Product extends string> = {\r\n  [K in Product]: {\r\n    time: string;\r\n    requires: Requires;\r\n  };\r\n};\r\n\r\nexport abstract class AbstractCommerce<Product extends string>\r\n  implements Commerce<Product> {\r\n  protected abstract productsData: CommerceProductsData<Product>;\r\n\r\n  private queueTime: number = 0;\r\n\r\n  constructor(private production: Production) {}\r\n\r\n  public produce(product: Product, startTime: number): ProductionPromise {\r\n    if (!this.canProduce(product)) {\r\n      throw new Error(`This factory doesn't produce ${product}`);\r\n    }\r\n\r\n    const { time, requires } = this.productsData[product];\r\n\r\n    // Produce Requirements\r\n    const promise = latestPromise(\r\n      Object.entries(requires).map(([prod, qty]) =>\r\n        this.production.produce(\r\n          (prod as any) as AnyProduct,\r\n          qty as number,\r\n          startTime\r\n        )\r\n      )\r\n    );\r\n\r\n    // Produce Item\r\n    const max = Math.max(promise.time, this.queueTime, startTime);\r\n    this.queueTime = max + convertTime(time);\r\n\r\n    return {\r\n      time: this.queueTime\r\n    };\r\n  }\r\n\r\n  public canProduce(product: string): product is Product {\r\n    return product in this.productsData;\r\n  }\r\n\r\n  public getQueueTime(): number {\r\n    return this.queueTime;\r\n  }\r\n}\r\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst buildingSuppliesData = {\n  nails: {\n    time: \"4m\",\n    requires: {\n      metal: 2\n    }\n  },\n  cement: {\n    time: \"40m\",\n    requires: {\n      minerals: 2,\n      chemicals: 1\n    }\n  },\n  planks: {\n    time: \"24m\",\n    requires: {\n      wood: 2\n    }\n  },\n  glue: {\n    time: \"48m\",\n    requires: {\n      plastic: 1,\n      chemicals: 2\n    }\n  },\n  bricks: {\n    time: \"16m\",\n    requires: {\n      minerals: 2\n    }\n  },\n  paint: {\n    time: \"48m\",\n    requires: {\n      metal: 2,\n      minerals: 1,\n      chemicals: 2\n    }\n  }\n};\n\nexport const products = Object.keys(buildingSuppliesData);\n\nexport type BuildingSuppliesProducts = keyof typeof buildingSuppliesData;\n\nexport class BuildingSupplies extends AbstractCommerce<BuildingSuppliesProducts> {\n  protected productsData = buildingSuppliesData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst carPartsData = {\n  motorOil: {\n    time: \"16m\",\n    requires: {\n      crudeOil: 2\n    }\n  },\n  carTire: {\n    time: \"1h36m\",\n    requires: {\n      crudeOil: 2,\n      glue: 1,\n      nails: 3\n    }\n  },\n  engine: {\n    time: \"3h12m\",\n    requires: {\n      electronicalComponents: 1,\n      drill: 1,\n      nails: 3\n    }\n  }\n};\n\nexport const products = Object.keys(carPartsData);\n\nexport type CarPartsProducts = keyof typeof carPartsData;\n\nexport class CarParts extends AbstractCommerce<CarPartsProducts> {\n  protected productsData = carPartsData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst donutShopData = {\n  donuts: {\n    time: \"40m30s\",\n    requires: {\n      flourBag: 1,\n      sugarAndSpices: 1\n    }\n  },\n  greenSmoothie: {\n    time: \"27m\",\n    requires: {\n      vegetables: 1,\n      fruitAndBerries: 1\n    }\n  },\n  breadRoll: {\n    time: \"54m\",\n    requires: {\n      flourBag: 2,\n      cream: 1\n    }\n  },\n  cherryCheeseCake: {\n    time: \"1h21m\",\n    requires: {\n      flourBag: 1,\n      fruitAndBerries: 1,\n      cheese: 1\n    }\n  },\n  frozenYogurt: {\n    time: \"3h36m\",\n    requires: {\n      fruitAndBerries: 1,\n      cream: 1,\n      sugarAndSpices: 1\n    }\n  },\n  coffee: {\n    time: \"54m\",\n    requires: {\n      cream: 1,\n      seeds: 2,\n      sugarAndSpices: 1\n    }\n  }\n};\n\nexport const products = Object.keys(donutShopData);\n\nexport type DonutShopProducts = keyof typeof donutShopData;\n\nexport class DonutShop extends AbstractCommerce<DonutShopProducts> {\n  protected productsData = donutShopData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst farmersMarketData = {\n  beef: {\n    time: \"2h7m\",\n    requires: {\n      animalFeed: 3\n    }\n  },\n  vegetables: {\n    time: \"17m\",\n    requires: {\n      seeds: 2\n    }\n  },\n  cream: {\n    time: \"1h3m\",\n    requires: {\n      animalFeed: 1\n    }\n  },\n  flourBag: {\n    time: \"25m30s\",\n    requires: {\n      seeds: 2,\n      textiles: 2\n    }\n  },\n  corn: {\n    time: \"51m\",\n    requires: {\n      minerals: 1,\n      seeds: 4\n    }\n  },\n  fruitAndBerries: {\n    time: \"1h16m\",\n    requires: {\n      seeds: 2,\n      treeSaplings: 1\n    }\n  },\n  cheese: {\n    time: \"1h29m\",\n    requires: {\n      animalFeed: 2\n    }\n  }\n};\n\nexport const products = Object.keys(farmersMarketData);\n\nexport type FarmersMarketProducts = keyof typeof farmersMarketData;\n\nexport class FarmersMarket extends AbstractCommerce<FarmersMarketProducts> {\n  protected productsData = farmersMarketData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst fashionStoreData = {\n  cap: {\n    time: \"54m\",\n    requires: {\n      textiles: 2,\n      measuringTape: 1\n    }\n  },\n  shoes: {\n    time: \"1h7m\",\n    requires: {\n      textiles: 2,\n      plastic: 1,\n      glue: 1\n    }\n  },\n  watch: {\n    time: \"1h21m\",\n    requires: {\n      plastic: 2,\n      glass: 1,\n      chemicals: 1\n    }\n  },\n  businessSuits: {\n    time: \"3h9m\",\n    requires: {\n      textiles: 3,\n      measuringTape: 1,\n      glue: 1\n    }\n  },\n  backPack: {\n    time: \"2h15m\",\n    requires: {\n      textiles: 2,\n      plastic: 2,\n      measuringTape: 1\n    }\n  }\n};\n\nexport const products = Object.keys(fashionStoreData);\n\nexport type FashionStoreProducts = keyof typeof fashionStoreData;\n\nexport class FashionStore extends AbstractCommerce<FashionStoreProducts> {\n  protected productsData = fashionStoreData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst fastFoodRestaurantData = {\n  icecreamSandwich: {\n    time: \"12m36s\",\n    requires: {\n      breadRoll: 1,\n      cream: 1\n    }\n  },\n  pizza: {\n    time: \"21m36s\",\n    requires: {\n      flourBag: 1,\n      cheese: 1,\n      beef: 1\n    }\n  },\n  burgers: {\n    time: \"31m30s\",\n    requires: {\n      beef: 1,\n      breadRoll: 1,\n      bbqGrill: 1\n    }\n  },\n  cheeseFries: {\n    time: \"18m\",\n    requires: {\n      vegetables: 1,\n      cheese: 1\n    }\n  },\n  lemonadeBottle: {\n    time: \"54m\",\n    requires: {\n      glass: 2,\n      sugarAndSpices: 2,\n      fruitAndBerries: 1\n    }\n  }\n};\n\nexport const products = Object.keys(fastFoodRestaurantData);\n\nexport type FastFoodRestaurantProducts = keyof typeof fastFoodRestaurantData;\n\nexport class FastFoodRestaurant extends AbstractCommerce<\n  FastFoodRestaurantProducts\n> {\n  protected productsData = fastFoodRestaurantData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst fishMarketData = {\n  fishConserves: {\n    time: \"16m\",\n    requires: {\n      fish: 1,\n      metal: 1\n    }\n  },\n  fishSoup: {\n    time: \"1h36h\",\n    requires: {\n      vegetables: 1,\n      fish: 2,\n      cookingUtensils: 2\n    }\n  },\n  sandwichWithLosos: {\n    time: \"2h24m\",\n    requires: {\n      breadRoll: 1,\n      fish: 2\n    }\n  }\n};\n\nexport const products = Object.keys(fishMarketData);\n\nexport type FishMarketProducts = keyof typeof fishMarketData;\n\nexport class FishMarket extends AbstractCommerce<FishMarketProducts> {\n  protected productsData = fishMarketData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst furnitureStoreData = {\n  chairs: {\n    time: \"17m\",\n    requires: {\n      wood: 2,\n      nails: 1,\n      hammer: 1\n    }\n  },\n  tables: {\n    time: \"25m30s\",\n    requires: {\n      planks: 1,\n      nails: 2,\n      hammer: 1\n    }\n  },\n  homeTextiles: {\n    time: \"1h3m\",\n    requires: {\n      textiles: 2,\n      measuringTape: 1\n    }\n  },\n  cupBoard: {\n    time: \"38m15s\",\n    requires: {\n      planks: 2,\n      glass: 2,\n      paint: 1\n    }\n  },\n  couch: {\n    time: \"2h7m\",\n    requires: {\n      textiles: 3,\n      drill: 1,\n      glue: 1\n    }\n  }\n};\n\nexport const products = Object.keys(furnitureStoreData);\n\nexport type FurnitureStoreProducts = keyof typeof furnitureStoreData;\n\nexport class FurnitureStore extends AbstractCommerce<FurnitureStoreProducts> {\n  protected productsData = furnitureStoreData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst gardeningSuppliesData = {\n  grass: {\n    time: \"25m30s\",\n    requires: {\n      seeds: 1,\n      shovel: 1\n    }\n  },\n  firePit: {\n    time: \"3h24m\",\n    requires: {\n      bricks: 2,\n      shovel: 1,\n      cement: 2\n    }\n  },\n  treeSaplings: {\n    time: \"1h16m\",\n    requires: {\n      seeds: 1,\n      shovel: 1\n    }\n  },\n  lawnMower: {\n    time: \"1h42m\",\n    requires: {\n      metal: 3,\n      paint: 1,\n      electronicalComponents: 1\n    }\n  },\n  gardenFurniture: {\n    time: \"1h54m\",\n    requires: {\n      planks: 2,\n      plastic: 2,\n      textiles: 2\n    }\n  },\n  gardenGnomes: {\n    time: \"1h16m\",\n    requires: {\n      cement: 2,\n      glue: 1\n    }\n  }\n};\n\nexport const products = Object.keys(gardeningSuppliesData);\n\nexport type GardeningSuppliesProducts = keyof typeof gardeningSuppliesData;\n\nexport class GardeningSupplies extends AbstractCommerce<\n  GardeningSuppliesProducts\n> {\n  protected productsData = gardeningSuppliesData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst hardwareStoreData = {\n  hammer: {\n    time: \"11m12s\",\n    requires: {\n      metal: 1,\n      wood: 1\n    }\n  },\n  cookingUtensils: {\n    time: \"36m\",\n    requires: {\n      metal: 2,\n      plastic: 2,\n      wood: 2\n    }\n  },\n  measuringTape: {\n    time: \"16m\",\n    requires: {\n      metal: 1,\n      plastic: 1\n    }\n  },\n  ladder: {\n    time: \"48m\",\n    requires: {\n      planks: 2,\n      metal: 2\n    }\n  },\n  shovel: {\n    time: \"24m\",\n    requires: {\n      metal: 1,\n      wood: 1,\n      plastic: 1\n    }\n  },\n  drill: {\n    time: \"1h36m\",\n    requires: {\n      metal: 2,\n      plastic: 2,\n      electronicalComponents: 1\n    }\n  }\n};\n\nexport const products = Object.keys(hardwareStoreData);\n\nexport type HardwareStoreProducts = keyof typeof hardwareStoreData;\n\nexport class HardwareStore extends AbstractCommerce<HardwareStoreProducts> {\n  protected productsData = hardwareStoreData;\n}\n","import {AbstractCommerce} from \"./AbstractCommerce\";\n\nconst homeAppliancesData = {\n  bbqGrill: {\n    time: \"2h45m\",\n    requires: {\n      metal: 3,\n      cookingUtensils: 1\n    }\n  },\n  refrigerator: {\n    time: \"3h30m\",\n    requires: {\n      plastic: 2,\n      chemicals: 2,\n      electronicalComponents: 2\n    }\n  },\n  lightingSystem: {\n    time: \"1h45m\",\n    requires: {\n      chemicals: 1,\n      electronicalComponents: 1,\n      glass: 1\n    }\n  },\n  tv: {\n    time: \"2h30m\",\n    requires: {\n      plastic: 2,\n      glass: 2,\n      electronicalComponents: 2\n    }\n  }\n};\n\nexport const products = Object.keys(homeAppliancesData);\n\nexport type HomeAppliancesProducts = keyof typeof homeAppliancesData;\n\nexport class HomeAppliances extends AbstractCommerce<HomeAppliancesProducts> {\n  protected productsData = homeAppliancesData;\n}\n","import { AbstractCommerce } from \"./AbstractCommerce\";\n\nexport const silkMarketData = {\n  thread: {\n    time: \"16m\",\n    requires: {\n      silk: 2\n    }\n  },\n  fan: {\n    time: \"2h\",\n    requires: {\n      silk: 2,\n      wood: 1,\n      glue: 2\n    }\n  },\n  bathrobe: {\n    time: \"3h12m\",\n    requires: {\n      silk: 3,\n      glue: 2,\n      homeTextiles: 1\n    }\n  }\n};\n\nexport const products = Object.keys(silkMarketData);\n\nexport type SilkMarketProducts = keyof typeof silkMarketData;\n\nexport class SilkMarket extends AbstractCommerce<SilkMarketProducts> {\n  protected productsData = silkMarketData;\n}\n","import { AbstractCommerce } from \"./AbstractCommerce\";\n\nconst tropicalProductsStoreData = {\n  coconutOil: {\n    time: \"16m\",\n    requires: {\n      coconut: 2\n    }\n  },\n  faceCream: {\n    time: \"1h12m\",\n    requires: {\n      coconutOil: 2,\n      chemicals: 2\n    }\n  },\n  tropicalDrink: {\n    time: \"3h20m\",\n    requires: {\n      fruitAndBerries: 2,\n      coconut: 2,\n      sugarAndSpices: 1\n    }\n  }\n};\n\nexport const products = Object.keys(tropicalProductsStoreData);\n\nexport type TropicalProductsStoreProducts = keyof typeof tropicalProductsStoreData;\n\nexport class TropicalProductsStore extends AbstractCommerce<\n  TropicalProductsStoreProducts\n> {\n  protected productsData = tropicalProductsStoreData;\n}\n","import { products as commonFactoryProducts } from \"./factories/CommonFactory\";\nimport { products as coconutFactoryProducts } from \"./factories/CoconutFactory\";\nimport { products as frostyFjordsProducts } from \"./factories/FrostyFjordsFactory\";\nimport { products as oilPlantProducts } from \"./factories/OilPlantFactory\";\nimport { products as whiteMountainsProducts } from \"./factories/WhiteMountainsFactory\";\n\nimport { products as buildingSuppliesProducts } from \"./commerce/BuildingSupplies\";\nimport { products as carPartsProducts } from \"./commerce/CarParts\";\nimport { products as donutShopProducts } from \"./commerce/DonutShop\";\nimport { products as farmersMarketProducts } from \"./commerce/FarmersMarket\";\nimport { products as fashionStoreProducts } from \"./commerce/FashionStore\";\nimport { products as fastFoodRestaurantProducts } from \"./commerce/FastFoodRestaurant\";\nimport { products as fishMarketProducts } from \"./commerce/FishMarket\";\nimport { products as furnitureStoreProducts } from \"./commerce/FurnitureStore\";\nimport { products as gardeningSuppliesProducts } from \"./commerce/GarderingSupplies\";\nimport { products as hardwareStoreProducts } from \"./commerce/HardwareStore\";\nimport { products as homeAppliancesProducts } from \"./commerce/HomeAppliances\";\nimport { products as silkMarketProducts } from \"./commerce/SilkMarket\";\nimport { products as tropicalProductsStoreProducts } from \"./commerce/TropicalProductsStore\";\n\nconst products = [\n  ...commonFactoryProducts,\n  ...coconutFactoryProducts,\n  ...frostyFjordsProducts,\n  ...oilPlantProducts,\n  ...whiteMountainsProducts,\n  ...buildingSuppliesProducts,\n  ...carPartsProducts,\n  ...donutShopProducts,\n  ...farmersMarketProducts,\n  ...fashionStoreProducts,\n  ...fastFoodRestaurantProducts,\n  ...fishMarketProducts,\n  ...furnitureStoreProducts,\n  ...gardeningSuppliesProducts,\n  ...hardwareStoreProducts,\n  ...homeAppliancesProducts,\n  ...silkMarketProducts,\n  ...tropicalProductsStoreProducts\n];\n\nexport default products;\n","import * as React from \"react\";\nimport ProductPicture from \"./ProductPicture\";\nimport products from \"../domain/products\";\nimport { Order } from \"../domain/order\";\nimport { Dispatch } from \"react\";\nimport { OrderReducerAction } from \"../use/orderReducer\";\n\nexport interface ProductsSelectorProps {\n  order: Order;\n  index: number;\n  dispatch: Dispatch<OrderReducerAction>;\n}\n\nexport const ProductsSelector: React.FC<ProductsSelectorProps> = ({\n  order,\n  index,\n  dispatch\n}) => {\n  const productsToAdd = React.useMemo(() => {\n    return products.filter(it => !(it in order));\n  }, [order]);\n\n  const handleProductClick = React.useCallback(\n    (product: any) => () => {\n      dispatch({ type: \"ADD_TO_ORDER\", index, product });\n    },\n    [dispatch]\n  );\n\n  return (\n    <div className={\"productIcons\"}>\n      {React.Children.toArray(\n        productsToAdd.map(product => (\n          <span className={\"productItem\"} onClick={handleProductClick(product)}>\n            <ProductPicture product={product} />\n          </span>\n        ))\n      )}\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport { Dispatch } from \"react\";\nimport { Button, Col, Table } from \"reactstrap\";\nimport ProductPicture from \"./ProductPicture\";\nimport { OrderReducerAction } from \"../use/orderReducer\";\nimport { Order as ProductionOrder } from \"../domain/order\";\nimport { ProductsSelector } from \"./ProductsSelector\";\n\nexport interface OrderProps {\n  order: ProductionOrder;\n  index: number;\n  dispatch: Dispatch<OrderReducerAction>;\n}\n\nexport const Order: React.FC<OrderProps> = ({ order, index, dispatch }) => {\n  const handleDeleteOrderClick = React.useCallback(() => {\n    dispatch({ type: \"DELETE_ORDER\", index });\n  }, [index, dispatch]);\n\n  const handleRemoveProductClick = React.useCallback(\n    (product: any) => () => {\n      dispatch({ type: \"REMOVE_FROM_ORDER\", index, product });\n    },\n    [index, dispatch]\n  );\n\n  const handleIncreaseQuantityClick = React.useCallback(\n    (product: any) => () => {\n      dispatch({ type: \"INCREASE_QUANTITY\", index, product, amount: 1 });\n    },\n    [index, dispatch]\n  );\n\n  const handleDecreaseQuantityClick = React.useCallback(\n    (product: any) => () => {\n      dispatch({ type: \"INCREASE_QUANTITY\", index, product, amount: -1 });\n    },\n    [index, dispatch]\n  );\n\n  return (\n    <>\n      <Table size={\"sm\"}>\n        <thead>\n          <tr>\n            <th>Product</th>\n            <th>Quantity</th>\n            <th>Remove</th>\n          </tr>\n        </thead>\n        <tbody>\n          {React.Children.toArray(\n            Object.entries(order).map(([product, quantity]) => {\n              return (\n                <tr>\n                  <td title={product}>\n                    <ProductPicture product={product} />\n                  </td>\n                  <td>\n                    <Button onClick={handleDecreaseQuantityClick(product)}>\n                      -\n                    </Button>\n                    {quantity}\n                    <Button onClick={handleIncreaseQuantityClick(product)}>\n                      +\n                    </Button>\n                  </td>\n                  <td>\n                    <Button onClick={handleRemoveProductClick(product)}>\n                      Remove\n                    </Button>\n                  </td>\n                </tr>\n              );\n            })\n          )}\n        </tbody>\n      </Table>\n      <ProductsSelector order={order} index={index} dispatch={dispatch} />\n      <Button onClick={handleDeleteOrderClick}>Delete Order</Button>\n    </>\n  );\n};\n","import * as React from \"react\";\nimport {Dispatch} from \"react\";\nimport {Button, Col, Row} from \"reactstrap\";\nimport {Order as OrderComponent} from \"./Order\";\nimport {Order} from \"../domain/order\";\nimport {OrderReducerAction} from \"../use/orderReducer\";\n\nexport interface OrdersProps {\n  orders: Order[];\n  dispatch: Dispatch<OrderReducerAction>;\n}\n\nexport const Orders: React.FC<OrdersProps> = ({ orders, dispatch }) => {\n  const handleCreateOrder = React.useCallback(\n    () => dispatch({ type: \"CREATE_ORDER\" }),\n    []\n  );\n\n  return (\n    <>\n      <Row>\n        <Col>\n          {React.Children.toArray(\n            orders.map((order, index) => (\n              <OrderComponent dispatch={dispatch} order={order} index={index} />\n            ))\n          )}\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Button block onClick={handleCreateOrder}>\n            Create Order\n          </Button>\n        </Col>\n      </Row>\n    </>\n  );\n};\n","import {isEmpty, last, orderBy} from \"lodash\";\r\nimport {AnyProduct} from \"./Production\";\r\n\r\nexport interface PlanItem {\r\n  product: AnyProduct;\r\n  type: \"produce\" | \"collect\";\r\n  time: number;\r\n}\r\n\r\nexport interface GroupedPlanItem extends PlanItem {\r\n  quantity: number;\r\n}\r\n\r\nexport class ProductionPlanner {\r\n  private items: PlanItem[] = [];\r\n\r\n  public produceItem(product: AnyProduct, time: number) {\r\n    this.items.push({ product, time, type: \"produce\" });\r\n  }\r\n\r\n  public collectItem(product: AnyProduct, time: number) {\r\n    this.items.push({ product, time, type: \"collect\" });\r\n  }\r\n\r\n  public getPlanItems(): GroupedPlanItem[] {\r\n    const orderedItems = orderBy(this.items, [\"time\"], [\"asc\"]);\r\n    return groupPlanItems(orderedItems);\r\n  }\r\n}\r\n\r\nfunction groupPlanItems(items: PlanItem[]): GroupedPlanItem[] {\r\n  let groupedItems: GroupedPlanItem[] = [];\r\n\r\n  items.forEach(it => {\r\n    if (!isEmpty(groupedItems)) {\r\n      const lastGroupedItem = last(groupedItems) as GroupedPlanItem;\r\n      if (\r\n        lastGroupedItem.product === it.product &&\r\n        lastGroupedItem.type === it.type\r\n      ) {\r\n        lastGroupedItem.quantity += 1;\r\n        if (it.type === \"collect\") {\r\n          lastGroupedItem.time = it.time;\r\n        }\r\n        return;\r\n      }\r\n    }\r\n    groupedItems.push({ ...it, quantity: 1 });\r\n  });\r\n\r\n  return groupedItems;\r\n}\r\n","import {minBy, range} from \"lodash\";\r\nimport {Factory, ProductionPromise} from \"./Factory\";\r\n\r\nexport class ParallelFactory<Product extends string> implements Factory<Product> {\r\n  private readonly factories: Array<Factory<Product>> = [];\r\n\r\n  constructor(amount: number, ctor: { new (): Factory<Product> }) {\r\n    this.factories = range(amount).map(() => new ctor());\r\n  }\r\n\r\n  public produce(product: Product, startTime: number): ProductionPromise {\r\n    return this.getMostUnused().produce(product, startTime);\r\n  }\r\n\r\n  public canProduce(product: string): product is Product {\r\n    return this.getMostUnused().canProduce(product);\r\n  }\r\n\r\n  public getQueueTime(): number {\r\n    return this.getMostUnused().getQueueTime();\r\n  }\r\n\r\n  private getMostUnused() {\r\n    const mostUnusedFactory = minBy(this.factories, it => it.getQueueTime());\r\n    if (mostUnusedFactory === undefined) {\r\n      throw new Error(\"Unit has no factories\");\r\n    }\r\n    return mostUnusedFactory;\r\n  }\r\n}\r\n","import { find, range } from \"lodash\";\r\nimport { ParallelFactory } from \"./ParallelFactory\";\r\nimport { CommonFactory } from \"./factories/CommonFactory\";\r\nimport { CoconutFactory } from \"./factories/CoconutFactory\";\r\nimport { FrostyFjordsFactory } from \"./factories/FrostyFjordsFactory\";\r\nimport { OilPlantFactory } from \"./factories/OilPlantFactory\";\r\nimport { WhiteMountainsFactory } from \"./factories/WhiteMountainsFactory\";\r\nimport { AnyProduct, Production } from \"./Production\";\r\nimport { Factory, latestPromise, ProductionPromise } from \"./Factory\";\r\nimport { BuildingSupplies } from \"./commerce/BuildingSupplies\";\r\nimport { CarParts } from \"./commerce/CarParts\";\r\nimport { DonutShop } from \"./commerce/DonutShop\";\r\nimport { FarmersMarket } from \"./commerce/FarmersMarket\";\r\nimport { FashionStore } from \"./commerce/FashionStore\";\r\nimport { FastFoodRestaurant } from \"./commerce/FastFoodRestaurant\";\r\nimport { FishMarket } from \"./commerce/FishMarket\";\r\nimport { FurnitureStore } from \"./commerce/FurnitureStore\";\r\nimport { GardeningSupplies } from \"./commerce/GarderingSupplies\";\r\nimport { HardwareStore } from \"./commerce/HardwareStore\";\r\nimport { HomeAppliances } from \"./commerce/HomeAppliances\";\r\nimport { SilkMarket } from \"./commerce/SilkMarket\";\r\nimport { TropicalProductsStore } from \"./commerce/TropicalProductsStore\";\r\nimport { ProductionPlanner } from \"./ProductionPlanner\";\r\n\r\nexport class ProductionUnit implements Production {\r\n  private readonly solution: Factory<string>[];\r\n\r\n  constructor(private planner: ProductionPlanner) {\r\n    this.solution = [\r\n      new ParallelFactory(50, CommonFactory),\r\n      new ParallelFactory(5, CoconutFactory),\r\n      new ParallelFactory(5, FrostyFjordsFactory),\r\n      new ParallelFactory(5, OilPlantFactory),\r\n      new ParallelFactory(5, WhiteMountainsFactory),\r\n\r\n      new BuildingSupplies(this),\r\n      new CarParts(this),\r\n      new DonutShop(this),\r\n      new FarmersMarket(this),\r\n      new FashionStore(this),\r\n      new FastFoodRestaurant(this),\r\n      new FishMarket(this),\r\n      new FurnitureStore(this),\r\n      new GardeningSupplies(this),\r\n      new HardwareStore(this),\r\n      new HomeAppliances(this),\r\n      new SilkMarket(this),\r\n      new TropicalProductsStore(this)\r\n    ];\r\n  }\r\n\r\n  public produce(\r\n    product: AnyProduct,\r\n    quantity: number,\r\n    startTime: number\r\n  ): ProductionPromise {\r\n    const solution = find(this.solution, it => it.canProduce(product));\r\n\r\n    if (solution !== undefined) {\r\n      return latestPromise(\r\n        range(quantity).map(() => {\r\n          const promise = solution.produce(product, startTime);\r\n          this.planner.collectItem(product, promise.time);\r\n          return promise;\r\n        })\r\n      );\r\n    }\r\n\r\n    throw new Error(`Production doesn't know how to produce ${product}`);\r\n  }\r\n}\r\n","import {GroupedPlanItem, ProductionPlanner} from \"./ProductionPlanner\";\r\nimport {AnyProduct} from \"./Production\";\r\nimport {ProductionUnit} from \"./ProductionUnit\";\r\n\r\nexport type Order = Partial<\r\n  {\r\n    [K in AnyProduct]: number;\r\n  }\r\n>;\r\n\r\nexport function convertOrdersToPlan(...orders: Order[]): GroupedPlanItem[] {\r\n  const planner = new ProductionPlanner();\r\n  const unit = new ProductionUnit(planner);\r\n  orders.forEach(order =>\r\n    Object.entries(order).forEach(([product, quantity]) =>\r\n      unit.produce(product as AnyProduct, quantity as number, 0)\r\n    )\r\n  );\r\n  return planner.getPlanItems();\r\n}\r\n","import {useReducer} from \"react\";\nimport {Order} from \"../domain/order\";\nimport {AnyProduct} from \"../domain/Production\";\n\nexport type OrderReducerState = Order[];\n\nexport type OrderReducerAction =\n  | {\n      type: \"DELETE_ORDER\";\n      index: number;\n    }\n  | {\n      type: \"CREATE_ORDER\";\n    }\n  | {\n      type: \"ADD_TO_ORDER\";\n      index: number;\n      product: AnyProduct;\n    }\n  | {\n      type: \"REMOVE_FROM_ORDER\";\n      index: number;\n      product: AnyProduct;\n    }\n  | {\n      type: \"INCREASE_QUANTITY\";\n      index: number;\n      product: AnyProduct;\n      amount: number;\n    };\n\nfunction orderReducer(\n  state: OrderReducerState = [],\n  action: OrderReducerAction\n) {\n  switch (action.type) {\n    case \"CREATE_ORDER\":\n      return [...state, {}];\n\n    case \"DELETE_ORDER\":\n      return state.filter((_, index) => index !== action.index);\n\n    case \"ADD_TO_ORDER\":\n      return state.map((order, index) => {\n        if (index === action.index) {\n          return { ...order, [action.product]: 1 };\n        }\n        return order;\n      });\n\n    case \"REMOVE_FROM_ORDER\":\n      return state.map((order, index) => {\n        if (index === action.index) {\n          const { [action.product]: _, ...otherItems } = order;\n          return otherItems;\n        }\n        return order;\n      });\n\n    case \"INCREASE_QUANTITY\":\n      return state.map((order, index) => {\n        if (index === action.index) {\n          return {\n            ...order,\n            [action.product]: Math.max(0, (order[action.product] || 0) + action.amount)\n          };\n        }\n        return order;\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport function useOrderReducer(initialState: Order[] = []) {\n  return useReducer(orderReducer, initialState);\n}\n","import * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { Col, Container, Row } from \"reactstrap\";\nimport ProductionPlan from \"./components/quest/ProductionPlan\";\nimport { Orders } from \"./components/Orders\";\nimport { convertOrdersToPlan } from \"./domain/order\";\nimport { useOrderReducer } from \"./use/orderReducer\";\nimport \"./styles.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nfunction App() {\n  const lastOrders = JSON.parse(localStorage.getItem(\"lastOrders\") || \"[]\");\n  const [orders, dispatch] = useOrderReducer(lastOrders);\n\n  React.useEffect(() => {\n    localStorage.setItem(\"lastOrders\", JSON.stringify(orders));\n  }, [orders]);\n\n  const planItems = React.useMemo(() => {\n    return convertOrdersToPlan.apply(null, orders);\n  }, [orders]);\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <Orders orders={orders} dispatch={dispatch} />\n        </Col>\n        <Col>\n          {planItems.length > 0 ? (\n            <ProductionPlan items={planItems} />\n          ) : (\n            \"Nothing to show.\"\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\n\nrender(<App />, rootElement);\n"],"sourceRoot":""}